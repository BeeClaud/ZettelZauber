<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ZettelZauber – Lösung</title>

  <style>
    :root { color-scheme: dark; }
    html, body { height: 100%; }

    /* ===== Deep space base (no green, no pink) ===== */
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: rgba(255,255,255,0.92);
      background:
        radial-gradient(1200px 900px at 20% 15%, rgba(120,140,255,0.10), transparent 62%),
        radial-gradient(900px 700px at 82% 28%, rgba(255,255,255,0.05), transparent 65%),
        radial-gradient(1000px 760px at 55% 88%, rgba(90,110,180,0.08), transparent 68%),
        radial-gradient(800px 650px at 40% 55%, rgba(255,255,255,0.03), transparent 70%),
        linear-gradient(160deg, #02030a 0%, #040713 45%, #020206 100%);
      overflow:hidden;
    }

    /* Nebula drift (very subtle) */
    body::before{
      content:"";
      position:fixed;
      inset:-25%;
      pointer-events:none;
      background:
        radial-gradient(950px 760px at 18% 38%, rgba(120,140,255,0.09), transparent 62%),
        radial-gradient(1100px 900px at 78% 28%, rgba(255,255,255,0.04), transparent 66%),
        radial-gradient(980px 820px at 62% 82%, rgba(90,110,180,0.07), transparent 66%),
        radial-gradient(860px 700px at 36% 76%, rgba(255,255,255,0.03), transparent 70%);
      filter: blur(14px) saturate(1.02);
      opacity: 0.85;
      transform: translate3d(0,0,0);
      animation: nebulaDrift 48s ease-in-out infinite alternate;
    }
    @keyframes nebulaDrift{
      0%   { transform: translate3d(-1.0%, -0.6%, 0) scale(1.02); }
      50%  { transform: translate3d( 1.0%,  0.5%, 0) scale(1.04); }
      100% { transform: translate3d(-0.5%,  1.0%, 0) scale(1.03); }
    }

    /* Starfield canvas */
    #dust{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      pointer-events:none;
      opacity: 1;
      mix-blend-mode: screen;
    }

    /* Film grain */
    .grain{
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity: 0.09;
      mix-blend-mode: overlay;
      background-image:
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.45'/%3E%3C/svg%3E");
      background-size: 180px 180px;
      animation: grainMove 6s steps(8) infinite;
    }
    @keyframes grainMove{
      0%   { transform: translate3d(0,0,0); }
      25%  { transform: translate3d(-1%, 1%, 0); }
      50%  { transform: translate3d(1%, -1%, 0); }
      75%  { transform: translate3d(-1%, -1%, 0); }
      100% { transform: translate3d(0,0,0); }
    }

    /* ===== Layout ===== */
    .wrap{
      width: min(880px, 92vw);
      padding: 22px 16px 30px;
      position: relative;
      z-index: 2;
    }

    .card{
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(10, 12, 22, 0.62);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      box-shadow:
        0 26px 90px rgba(0,0,0,0.58),
        inset 0 1px 0 rgba(255,255,255,0.06);
      padding: 18px 18px 14px;
      overflow:hidden;
      transform: translateY(8px);
      opacity: 0;
      animation: appear .35s ease-out forwards;
      text-align: center;
    }
    @keyframes appear { to { transform: translateY(0); opacity: 1; } }

    .question{
      margin: 0 0 12px;
      font-size: 0.98rem;
      line-height: 1.35;
      color: rgba(255,255,255,0.72);
      white-space: pre-wrap;
    }

    .answer{
      margin: 0;
      font-size: clamp(1.35rem, 3.3vw, 1.9rem);
      font-weight: 850;
      line-height: 1.25;
      color: rgba(255,255,255,0.95);
      white-space: pre-wrap;
    }

    .brand-footer{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 14px;
      text-align: center;
      font-size: 0.86rem;
      color: rgba(255,255,255,0.52);
      z-index: 3;
      pointer-events: none;
    }
  </style>
</head>

<body>
  <canvas id="dust"></canvas>
  <div class="grain"></div>

  <div class="wrap">
    <div class="card">
      <p id="question" class="question"></p>
      <p id="answer" class="answer"></p>
    </div>
  </div>

  <div class="brand-footer">ZettelZauber von BeeClaud Studio</div>

  <script>
    // ===== Rätsel-Datenbank (1–37) =====
    const riddles = {
      1:  { q: "Was wird beim Trocknen nass?", a: "Das Handtuch" },
      2:  { q: "Ich habe Städte, aber keine Häuser. Ich habe Berge, aber keine Bäume. Ich habe Wasser, aber keine Fische. Was bin ich?", a: "Eine Landkarte" },
      3:  { q: "Was hat viele Zähne, aber kann nicht beißen?", a: "Ein Reißverschluss" },
      4:  { q: "Je mehr du davon nimmst, desto größer wird es. Was ist es?", a: "Das Loch" },
      5:  { q: "Was gehört dir, wird aber von anderen öfter benutzt als von dir?", a: "Dein Name" },
      6:  { q: "Was kommt einmal in einer Minute, zweimal in einem Moment, aber nie in tausend Jahren vor?", a: "Der Buchstabe „M“" },
      7:  { q: "Ich bin leicht wie eine Feder, aber selbst der Stärkste kann mich nicht lange halten.", a: "Der Atem" },
      8:  { q: "Welches Wort wird kürzer, wenn man zwei Buchstaben hinzufügt?", a: "kurz → kürzer" },
      9:  { q: "Zwei Väter und zwei Söhne gehen essen und bestellen drei Portionen. Niemand bleibt hungrig. Wie?", a: "Opa, Vater, Sohn" },
      10: { q: "Was kann man fangen, aber nicht werfen?", a: "Eine Erkältung" },
      11: { q: "Was läuft, hat aber keine Beine?", a: "Die Nase" },
      12: { q: "Welche Frage kann man nie mit „Ja“ beantworten?", a: "Schläfst du?" },
      13: { q: "Was steigt hoch, wenn der Regen runterkommt?", a: "Ein Regenschirm" },
      14: { q: "Was ist voller Löcher und hält trotzdem Wasser?", a: "Ein Schwamm" },
      15: { q: "Was ist am Ende eines Regenbogens?", a: "Der Buchstabe „n“" },
      16: { q: "Ich kann gebrochen werden, ohne dass man mich berührt. Was bin ich?", a: "Ein Versprechen" },
      17: { q: "Ich habe Seiten, aber ich bin kein Buch. Was bin ich?", a: "Ein Würfel" },
      18: { q: "Ich bin am Anfang der Ewigkeit und am Ende der Zeit. Ich bin in jedem Ende, aber nie im Anfang. Was bin ich?", a: "Der Buchstabe „E“" },
      19: { q: "Du siehst mich nur, wenn Licht da ist – aber Licht selbst bin ich nicht. Was bin ich?", a: "Der Schatten" },
      20: { q: "Was kann jeder „machen“, aber niemand kann es „sehen“?", a: "Einen Fehler" },
      21: { q: "Ich bin nicht lebendig, aber ich kann wachsen. Ich habe keine Lunge, aber ich brauche Luft. Was bin ich?", a: "Das Feuer" },
      22: { q: "Wo ist der einzige Ort, an dem heute immer einen Tag hinter gestern liegt?", a: "Im Wörterbuch" },
      23: { q: "Warum ist es illegal eine Frau, die in Spanien lebt, in Frankreich zu begraben?", a: "Weil man lebendige Menschen nicht begraben darf." },
      24: { q: "Ein Mann und sein Chef haben dieselben Eltern, sind aber keine Geschwister. Wie geht das?", a: "Der Mann ist selbstständig." },
      25: { q: "Ein Mann steht vor 3 Türen und muss durch eine von ihnen hindurchgehen. Die erste Tür führt zu einem Raum voller lichterloh brennendem Feuer. Durch die zweite Tür gelangt man zu einem Raum voller Mörder mit geladenen Gewehren. Hinter der dritten Tür befindet sich ein Raum mit Löwen, die seit Jahren nichts mehr gefressen haben. Welche Tür sollte der Mann wählen?", a: "Die dritte Tür, denn die Löwen wären längst tot." },
      26: { q: "Eine Frau läuft nach einer Party nachhause und findet einen 100-Euro-Schein auf dem Boden. Obwohl der Mond nicht am Himmel zu sehen ist, sie keine Taschenlampe in der Hand hält und auch keine Straßenbeleuchtung eingeschaltet ist, konnte sie den Schein von weitem erkennen. Wie ist das möglich?", a: "Es ist bereits nach Sonnenaufgang." },
      27: { q: "Zwei Männer befinden sich mitten in der Wüste ohne Wasser, Handys oder Proviant. Einer von ihnen ist bereits tot. Beide Männer haben einen Rucksack auf dem Rücken. Der Mann, der noch lebt, hat einen geöffneten Rucksack, während der des toten Mannes geschlossen ist. Was befindet sich in den beiden Rucksäcken?", a: "Fallschirme" },
      28: { q: "Eine junge Frau wohnt in einem teuren Luxus-Hotel neben einer Bank. Eines Abends klopft es an ihrer Tür und noch ehe sie „Herein!“ rufen kann, betritt ein fremder Mann ihr Zimmer. Er sagt: „Oh, entschuldigen Sie bitte, ich habe mich in der Tür geirrt.“ Kurz darauf nimmt der Detektiv den Mann fest. Durch welchen Fehler flog der Dieb auf?", a: "Wenn es wirklich sein Zimmer gewesen wäre, hätte er nicht geklopft." },
      29: { q: "Wie kann ein Mensch neun Tage ohne Schlaf auskommen?", a: "Er schläft nachts." },
      30: { q: "Was passiert, wenn man einen grünen Stein ins Rote Meer wirft?", a: "Er wird nass." },
      31: { q: "Ein Mann schiebt sein Auto vor ein Hotel und geht danach pleite. Was ist passiert?", a: "Er hat Monopoly gespielt." },
      32: { q: "Ein Mann erzählt allen, dass er vor zwei Tagen noch 35 war, er aber dieses Jahr noch 37 wird. Wie ist das möglich?", a: "Es ist der 1. Januar und er hatte am 31. Dezember Geburtstag." },
      33: { q: "Ein Reiter bindet ein 3 Meter langes, stabiles Seil um den Hals seines Pferdes. Der Pferdestall mit Futter ist 10 Meter entfernt, jedoch kann das Pferd dorthin gelangen. Wieso?", a: "Das Seil ist am anderen Ende nicht angebunden." },
      34: { q: "Du kommst in ein Zimmer. Auf dem Bett liegen 2 Katzen, ein Hund und eine Maus. In der Ecke steht der Weihnachtsmann und 3 Tauben sowie ein kleiner Vogel fliegen durch den Raum. Wie viele Füße stehen im Zimmer?", a: "Acht (2 von dir, 4 vom Bett, 2 vom Weihnachtsmann)." },
      35: { q: "Welche Frucht hat keinen Mut?", a: "Die Feige" },
      36: { q: "Wie oft kommt die Ziffer 8 in allen Zahlen von 1 bis 100 vor?", a: "Insgesamt 20 Mal" },
      37: { q: "Es beginnt mit dem dritten Buchstaben des Alphabets. Der dritte Buchstabe ist der 6. Buchstabe des Alphabets. Der zweite Buchstabe ist der erste Buchstabe des Alphabets. Der vierte Buchstabe ist der 5. Buchstabe des Alphabets.", a: "Cafe" }
    };

    // ===== Show riddle by ?r=... =====
    const qEl = document.getElementById("question");
    const aEl = document.getElementById("answer");
    const params = new URLSearchParams(location.search);
    const r = params.get("r");

    if (!r) {
      qEl.textContent = "";
      aEl.textContent = "";
    } else {
      const n = Number(r);
      const item = riddles[n];
      if (!Number.isInteger(n) || !item) {
        qEl.textContent = "";
        aEl.textContent = "Keine Lösung hinterlegt.";
      } else {
        qEl.textContent = item.q;
        aEl.textContent = item.a;
      }
    }

    // ===== Fly-through Universe (3D starfield) + rare subtle meteors =====
    (() => {
      const canvas = document.getElementById("dust");
      const ctx = canvas.getContext("2d", { alpha: true });

      let w, h, dpr, cx, cy;
      let stars = [];
      let meteors = [];
      let nextMeteorAt = 0;

      const rand = (min, max) => Math.random() * (max - min) + min;

      // Tuned for "slow flight" (elegant)
      const FIELD_DEPTH = 1600;      // bigger = deeper space
      const STAR_COUNT  = 520;       // density
      const SPEED       = 2.2;       // forward speed (px-ish in z units)
      const DRIFT       = 0.08;      // subtle sideways drift
      const TWINKLE     = 0.20;      // subtle twinkle amount
      const BASE_ALPHA  = 0.55;      // overall intensity (0..1)

      function resize() {
        dpr = Math.min(window.devicePixelRatio || 1, 2);
        w = canvas.width  = Math.floor(window.innerWidth  * dpr);
        h = canvas.height = Math.floor(window.innerHeight * dpr);
        canvas.style.width = window.innerWidth + "px";
        canvas.style.height = window.innerHeight + "px";
        cx = w / 2;
        cy = h / 2;
        init();
      }

      function makeStar() {
        // x/y in a cube around center, z depth
        const spread = Math.max(w, h) * 0.75;
        const z = rand(200, FIELD_DEPTH);                 // avoid super-near pop
        return {
          x: rand(-spread, spread),
          y: rand(-spread, spread),
          z,
          // a little per-star variance
          tw: rand(0.002, 0.010),
          ph: rand(0, Math.PI * 2),
          // slight cool tint (only white/blue)
          cool: rand(0.0, 0.22),
          // class
          kind: (Math.random() < 0.08) ? "spark" : "star"  // few brighter ones
        };
      }

      function init() {
        stars = Array.from({ length: STAR_COUNT }, makeStar);
        meteors = [];
        nextMeteorAt = performance.now() + rand(9000, 19000);
      }

      function project(s) {
        // perspective projection
        const fov = 520 * dpr;               // bigger = less warp
        const scale = fov / s.z;
        const x = cx + s.x * scale;
        const y = cy + s.y * scale;
        return { x, y, scale };
      }

      function spawnMeteor(now) {
        const angle = rand(0, Math.PI * 2);
        const speed = rand(2.2, 3.4) * dpr;
        const vx = Math.cos(angle) * speed;
        const vy = Math.sin(angle) * speed;

        const margin = 100 * dpr;
        let x, y;

        // spawn from outside bounds
        if (Math.abs(vx) > Math.abs(vy)) {
          x = vx > 0 ? -margin : w + margin;
          y = rand(-margin, h + margin);
        } else {
          x = rand(-margin, w + margin);
          y = vy > 0 ? -margin : h + margin;
        }

        meteors.push({
          x, y, vx, vy,
          life: 0,
          maxLife: Math.floor(rand(28, 46)),
          len: rand(90, 160) * dpr,
          baseA: rand(0.16, 0.24) // very subtle
        });

        nextMeteorAt = now + rand(10000, 22000);
      }

      function drawMeteor(m) {
        const t = m.life / m.maxLife;
        const fade = (t < 0.25) ? (t / 0.25) : (t > 0.85 ? (1 - t) / 0.15 : 1);
        const alpha = m.baseA * fade;

        const x2 = m.x - m.vx * (m.len / (2.2 * dpr));
        const y2 = m.y - m.vy * (m.len / (2.2 * dpr));

        const grad = ctx.createLinearGradient(m.x, m.y, x2, y2);
        grad.addColorStop(0, `rgba(235,245,255, ${alpha})`);
        grad.addColorStop(1, `rgba(235,245,255, 0)`);

        ctx.save();
        ctx.lineWidth = 1.05 * dpr;
        ctx.lineCap = "round";
        ctx.shadowBlur = 12 * dpr;
        ctx.shadowColor = `rgba(170,200,255, ${alpha * 0.55})`;
        ctx.strokeStyle = grad;
        ctx.beginPath();
        ctx.moveTo(m.x, m.y);
        ctx.lineTo(x2, y2);
        ctx.stroke();
        ctx.restore();
      }

      function step(t) {
        ctx.clearRect(0, 0, w, h);

        // rare meteors
        if (t >= nextMeteorAt) spawnMeteor(t);

        // subtle center drift so it feels like motion, not just zoom
        const driftX = Math.sin(t * 0.00012) * (DRIFT * 140 * dpr);
        const driftY = Math.cos(t * 0.00010) * (DRIFT * 110 * dpr);

        // stars (fly-through)
        for (const s of stars) {
          // move forward (towards viewer)
          s.z -= SPEED * dpr;
          // tiny lateral drift (adds "travel direction" feeling)
          s.x += driftX * 0.002;
          s.y += driftY * 0.002;

          // recycle star when it passes viewer
          if (s.z < 120) {
            // respawn far away with new x/y
            const spread = Math.max(w, h) * 0.75;
            s.x = rand(-spread, spread);
            s.y = rand(-spread, spread);
            s.z = FIELD_DEPTH;
            s.tw = rand(0.002, 0.010);
            s.ph = rand(0, Math.PI * 2);
            s.cool = rand(0.0, 0.22);
            s.kind = (Math.random() < 0.08) ? "spark" : "star";
          }

          const p = project(s);

          // skip if off screen (helps performance)
          if (p.x < -50 || p.x > w + 50 || p.y < -50 || p.y > h + 50) continue;

          // size & alpha based on depth
          const depth = 1 - (s.z / FIELD_DEPTH); // 0 far .. 1 near
          let radius = (s.kind === "spark" ? 1.2 : 0.8) * p.scale * 1.4;
          radius = Math.max(0.25 * dpr, Math.min(radius, 2.6 * dpr));

          const tw = (Math.sin(t * 0.001 * (1 + s.tw * 220) + s.ph) * 0.5 + 0.5);
          const twinkle = 1 - TWINKLE + tw * TWINKLE;

          // cool tint only (white -> slightly blue)
          const b = 255;
          const g = Math.round(255 - (s.cool * 34));
          const r = Math.round(255 - (s.cool * 52));

          // brightness: near stars a bit stronger, but still classy
          let alpha = BASE_ALPHA * (0.08 + depth * 0.55) * twinkle;
          if (s.kind === "spark") alpha *= 1.35;

          // glow for nearer / spark stars
          const glow = (s.kind === "spark" ? 12 : 6) * dpr * (0.15 + depth);
          ctx.shadowBlur = glow;
          ctx.shadowColor = `rgba(${r},${g},${b},${alpha * 0.35})`;

          ctx.beginPath();
          ctx.fillStyle = `rgba(${r},${g},${b},${alpha})`;
          ctx.arc(p.x, p.y, radius, 0, Math.PI * 2);
          ctx.fill();
          ctx.shadowBlur = 0;

          // tiny motion streak for a few nearer stars (adds speed feel)
          if (depth > 0.70 && Math.random() < 0.015) {
            ctx.save();
            ctx.globalAlpha = alpha * 0.45;
            ctx.strokeStyle = `rgba(${r},${g},${b},${alpha * 0.55})`;
            ctx.lineWidth = 0.9 * dpr;
            ctx.beginPath();
            ctx.moveTo(p.x, p.y);
            ctx.lineTo(p.x - (p.x - cx) * 0.025, p.y - (p.y - cy) * 0.025);
            ctx.stroke();
            ctx.restore();
          }
        }

        // meteors
        for (let i = meteors.length - 1; i >= 0; i--) {
          const m = meteors[i];
          m.x += m.vx;
          m.y += m.vy;
          m.life += 1;
          drawMeteor(m);
          if (m.life > m.maxLife) meteors.splice(i, 1);
        }

        requestAnimationFrame(step);
      }

      window.addEventListener("resize", resize, { passive: true });
      resize();
      requestAnimationFrame(step);
    })();
  </script>
</body>
</html>
